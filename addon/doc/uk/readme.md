# Історія буфера обміну

Автор [gera Kessler](http://gera.ar)

За безцінної співпраці Ектора Бенітеса.

Цей додаток дозволяє вам керувати історією буфера обміну, зберігаючи її в локальній базі даних, що дозволяє зберігати тексти навіть після перезавантаження системи.
Додає команди для перегляду історії, функцій пошуку, підрахунку улюбленого, резервного копіювання та відображення елементів.
Окрім взаємодії через командний рівень з розширеними функціями, для тих, хто не хоче компілювати, можна використовувати просту графічну версію.

Коли ви вперше встановлюєте додаток та запускаєте NVDA, створюється файл «clipboard_history», який містить базу даних. Цей файл розташований у кореневій теці nvda в каталозі конфігурації користувача.
Також створюється обробник, який перехоплює зміни в буфері обміну та оновлює базу даних, коли з'являється новий текстовий вміст.
Історія не зберігає дублікатів, щоб уникнути непотрібного зростання бази даних. Під час копіювання наявного тексту він копіюється на першу позицію в списку, видаляючи попередній.

У діалозі ЖестИ Вводу, категорія «Історія буфера обміну», можна призначити дві команди. А саме

* Активувати командний рівень
* Активувати графічний інтерфейс

Важлива примітка:  
В історії буфера обміну можуть зберігатися конфіденційні дані, тому користувач несе відповідальність за видалення вмісту, перш ніж надати доступ до портативної версії з копією налаштувань.

## Командний рівень

Після того, як ви активуєте командний рівень за допомогою гарячих клавіш ми матимемо такі комбінації. Якщо натиснути будь-яку клавішу, окрім перелічених нижче, командний рівень вимикається, а клавіші повертаються до стандартних функцій.

### Переміщення по списку

* Стрілка вгору; попередній пункт у списку
* Стрілка вниз; наступний пункт у списку
* На початок; перший пункт у списку
* В кінець; останній пункт у списку

### Клавіші, які впливають на вибраний елемент у списку

* Backspace; у загальному списку видаляє елемент. У улюбленому змінює позначку
* Стрілка вправо; копіює текст у буфер обміну та переміщує його на початок загального списку
* Стрілка вліво; відкриває текст у діалозі NVDA для подальшого перегляду
* v; Вставляє текст у вікно у фокусі
*c; Промовляє кількість символів, пробілів, слів і рядків
* f; Позначає або знімає позначку з елемента як улюбленого

### Функції пошуку

* b; Активує діалог пошуку елементів у списку
* f3; Перехід до наступного збігу у пошуку
* g; Активує діалог для фокусування на елементі за номером у списку

### Інші особливості

* F1; показує діалог NVDA зі списком клавіш командного рівня
* Tab; перемикає між загальним списком і списком улюбленого
* e; Промовляє, чи є елемент улюбленим, номер поточного елемента та загальну кількість у списку
* s; Відкриває діалог налаштувань додатка
* z; Показує діалог видалення елементів зі списку
* escape; Закриває командний рівень

## Пошук елементів

Щоб знайти будь-який текст в історії за словом, просто натисніть літеру b при активному командному рівні.
Відкриється діалог  пошуку, в якому ви можете ввести слово або фразу і натиснути клавішу Enter, щоб виконати пошук.
Якщо результат знайдено, показується текст і його порядковий номер. Якщо натиснути клавішу f3, пошук виконується знову з тим самим вмістом, переходячи до наступного результату, якщо буде знайдено ще один збіг.

## Улюблене

Клавіша Tab перемикає фокус між загальним списком і списком улюбленого. Коли останнє активне, клавіша Backspace знімає статус улюбленого елемента та видаляє його зі списку.
У загальному списку клавіша f перемикає статус улюбленого і додає або видаляє елемент зі списку улюбленого.
Функції копіювання, перегляду, пошуку, вставки, промовляння порядку та закриття діалогу виконуються однаково в обох списках.

## Діалог налаштувань

Натискання літери s з активним командним рівнем або control + p у графічній версії показує інтерфейс налаштування.
У ньому можна змінити:

### Кількість рядків для збереження

Тут ви можете вказати, скільки елементів буде зберігатися в базі даних. Коли ця кількість перевищується, старі записи видаляються з останнього запису.
Якщо при встановленні максимальної кількості елементів база даних містить більше за це значення, при введенні нових даних старі записи будуть видалені, але поточна кількість елементів буде збережена, щоб користувач міг вибрати, які з них видалити.

### Звуки

Увімкнути або вимкнути звуки додатка

### Номер елемента

Якщо цей прапорець позначено, під час перегляду списку елементів озвучується їх порядковий номер.

### Експорт бази даних

Ця кнопка активує діалог для збереження бази даних у її поточному вигляді для створення резервної копії даних, що дозволяє подальший імпорт на іншу NVDA за допомогою цього додатка.

### Імпорт бази даних

Це налаштування активує діалог для пошуку в попередньо експортованій базі даних для відновлення елементів, яких немає в поточній базі даних.

## Графічний інтерфейс

Після призначення комбінації клавіш ця функція відкриває графічний інтерфейс, який спрощує навігацію та взаємодію з історією.
Різні збережені елементи відображаються у вигляді списку, який можна прокручувати за допомогою стрілок вгору і вниз.
При натисканні клавіші Tab  на елементі зі списку, вміст показується у полі, доступному лише для читання.

У списку елементів доступні такі комбінації:

* f1; Промовляє позицію та загальну кількість елементів
* Enter; Копіює текст виділеного елемента в буфер обміну
* f5; Оновлює вміст списку
* Delete; Видаляє фокусований елемент
* alt + delete; Видаляє історію
* control + p; Активує діалог налаштування додатка
* escape; Закриває інтерфейс
